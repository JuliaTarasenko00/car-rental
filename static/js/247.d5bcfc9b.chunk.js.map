{"version":3,"file":"static/js/247.d5bcfc9b.chunk.js","mappings":"+PAqBA,MA6DA,EA7DgBA,KACd,MAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAOC,EAAAA,EAAAA,IAAYC,EAAAA,IACnBC,GAASF,EAAAA,EAAAA,IAAYG,EAAAA,IACrBC,GAAYJ,EAAAA,EAAAA,IAAYK,EAAAA,KACvBC,EAAMC,IAAWC,EAAAA,EAAAA,UAAS,GAC3BC,GAAYT,EAAAA,EAAAA,KAAYU,GAASA,EAAMX,KAAKU,YAC5CE,GAASC,EAAAA,EAAAA,GAAaC,EAAAA,KACtB,UAAEC,EAAS,UAAEC,EAAS,WAAEC,IAAeC,EAAAA,EAAAA,KAEvCC,GAASC,EAAAA,EAAAA,UACb,IAA4B,IAArBf,EAAUgB,OAAeT,EAASZ,GACzC,CAACK,EAAWO,EAAQZ,IAGhBsB,GAAcC,EAAAA,EAAAA,cAAY,KAC9Bf,GAAQgB,GAAYA,EAAW,GAAE,GAChC,KAEHC,EAAAA,EAAAA,YAAU,MACY,IAAhBzB,EAAKqB,QAAgBd,GAAQ,KAC/BT,GAAS4B,EAAAA,EAAAA,IAAcnB,IACvBT,GAAS6B,EAAAA,EAAAA,OACX,GACC,CAAC3B,EAAMF,EAAUS,IAEpB,MAAMqB,GAAeL,EAAAA,EAAAA,cACnBM,IACEb,IACAlB,GAASgC,EAAAA,EAAAA,IAAcD,GAAI,GAE7B,CAAC/B,EAAUkB,IAGb,OACEe,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACC,EAAAA,EAAM,IACY,IAAlBvB,EAAOS,SAAiBX,IACvBwB,EAAAA,EAAAA,KAACE,EAAAA,EAAW,CAAAH,SAAC,oCAEE,IAAhBjC,EAAKqB,SACJU,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACG,EAAAA,EAAW,CAACrB,UAAWY,EAAc5B,KAAMmB,IAC3B,IAAhBnB,EAAKqB,QACJlB,IAAWH,EAAKqB,QACK,IAArBhB,EAAUgB,SACRa,EAAAA,EAAAA,KAACI,EAAAA,EAAM,CAACC,KAAK,SAASC,QAASA,IAAMlB,IAAcW,SAAC,cAIvDlB,IACCmB,EAAAA,EAAAA,KAACO,EAAAA,EAAc,CAACC,QAASzB,EAAWgB,UAClCC,EAAAA,EAAAA,KAACS,EAAAA,EAAU,WAKlB,C","sources":["page/Catalog/Catalog.jsx"],"sourcesContent":["import { useDispatch, useSelector } from 'react-redux';\nimport { useCallback, useEffect, useMemo, useState } from 'react';\nimport {\n  getCarsEverything,\n  getCarsRental,\n  getDetailsCar,\n} from '../../redux/cars/operation';\nimport { CatalogList } from '../../components/CatalogList/CatalogList';\nimport { Button, CarNotFound } from './Catalog.styled';\nimport { ModalComponent } from '../../components/Modal/Modal';\nimport { DetailsCar } from '../../components/DetailsCar/DetailsCar';\nimport {\n  allCars,\n  detailsCars,\n  everythingCar,\n  filterCar,\n} from '../../redux/selector';\nimport { Filter } from '../../components/Filter/Filter';\nimport { useFilterCar } from '../../helpers/hooks/useFilterCar';\nimport { useModal } from '../../helpers/hooks/useModal';\n\nconst Catalog = () => {\n  const dispatch = useDispatch();\n  const cars = useSelector(allCars);\n  const number = useSelector(everythingCar);\n  const carFilter = useSelector(filterCar);\n  const [page, setPage] = useState(1);\n  const isLoading = useSelector(state => state.cars.isLoading);\n  const filter = useFilterCar(detailsCars);\n  const { modalOpen, openModal, closeModal } = useModal();\n\n  const render = useMemo(\n    () => (carFilter.length !== 0 ? filter : cars),\n    [carFilter, filter, cars]\n  );\n\n  const handelClick = useCallback(() => {\n    setPage(prevPage => prevPage + 1);\n  }, []);\n\n  useEffect(() => {\n    if (cars.length === 0 || page >= 2) {\n      dispatch(getCarsRental(page));\n      dispatch(getCarsEverything());\n    }\n  }, [cars, dispatch, page]);\n\n  const onClickModal = useCallback(\n    id => {\n      openModal();\n      dispatch(getDetailsCar(id));\n    },\n    [dispatch, openModal]\n  );\n\n  return (\n    <>\n      <Filter />\n      {filter.length === 0 && !isLoading && (\n        <CarNotFound>Oops car not found ðŸ«¥</CarNotFound>\n      )}\n      {cars.length !== 0 && (\n        <>\n          <CatalogList openModal={onClickModal} cars={render} />\n          {cars.length !== 0 &&\n            number !== cars.length &&\n            carFilter.length === 0 && (\n              <Button type=\"button\" onClick={() => handelClick()}>\n                Load More\n              </Button>\n            )}\n          {modalOpen && (\n            <ModalComponent onClose={closeModal}>\n              <DetailsCar />\n            </ModalComponent>\n          )}\n        </>\n      )}\n    </>\n  );\n};\n\nexport default Catalog;\n"],"names":["Catalog","dispatch","useDispatch","cars","useSelector","allCars","number","everythingCar","carFilter","filterCar","page","setPage","useState","isLoading","state","filter","useFilterCar","detailsCars","modalOpen","openModal","closeModal","useModal","render","useMemo","length","handelClick","useCallback","prevPage","useEffect","getCarsRental","getCarsEverything","onClickModal","id","getDetailsCar","_jsxs","_Fragment","children","_jsx","Filter","CarNotFound","CatalogList","Button","type","onClick","ModalComponent","onClose","DetailsCar"],"sourceRoot":""}