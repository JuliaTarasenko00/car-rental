{"version":3,"file":"static/js/247.f4f6a32c.chunk.js","mappings":"+PAgBA,MAiEA,EAjEgBA,KACd,MAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAOC,EAAAA,EAAAA,IAAYC,EAAAA,IACnBC,GAASF,EAAAA,EAAAA,IAAYG,EAAAA,IACrBC,GAAYJ,EAAAA,EAAAA,IAAYK,EAAAA,KACvBC,EAAMC,IAAWC,EAAAA,EAAAA,UAAS,GAC3BC,GAAYT,EAAAA,EAAAA,KAAYU,GAASA,EAAMX,KAAKU,YAC5CE,GAASC,EAAAA,EAAAA,GAAaX,EAAAA,KACtB,UAAEY,EAAS,UAAEC,EAAS,WAAEC,IAAeC,EAAAA,EAAAA,MAE7CC,EAAAA,EAAAA,YAAU,KACY,IAAhBlB,EAAKmB,SACPrB,GAASsB,EAAAA,EAAAA,IAAcb,IACvBT,GAASuB,EAAAA,EAAAA,OACX,GACC,CAACrB,EAAMF,EAAUS,KASpBW,EAAAA,EAAAA,YAAU,KACJX,GAAQ,GACVT,GAASsB,EAAAA,EAAAA,IAAcb,GACzB,GACC,CAACA,EAAMT,IAEV,MAAMwB,GAAeC,EAAAA,EAAAA,cACnBC,IACET,IACAjB,GAAS2B,EAAAA,EAAAA,IAAcD,GAAI,GAE7B,CAAC1B,EAAUiB,IAGb,OACEW,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACC,EAAAA,EAAM,IACY,IAAlBlB,EAAOO,SAAiBT,IACvBmB,EAAAA,EAAAA,KAACE,EAAAA,EAAW,CAAAH,SAAC,oCAEI,IAAlBhB,EAAOO,SACNO,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACG,EAAAA,EAAW,CAACjB,UAAWO,EAActB,KAAMY,IAC3B,IAAhBZ,EAAKmB,QACJhB,IAAWH,EAAKmB,QACK,IAArBd,EAAUc,SACRU,EAAAA,EAAAA,KAACI,EAAAA,EAAM,CAACC,KAAK,SAASC,QAASA,KAhCzC3B,GAAQ4B,GACUA,EAAW,GA+BgC,EAAAR,SAAC,cAIvDd,IACCe,EAAAA,EAAAA,KAACQ,EAAAA,EAAc,CAACC,QAAStB,EAAWY,UAClCC,EAAAA,EAAAA,KAACU,EAAAA,EAAU,WAKlB,C","sources":["page/Catalog/Catalog.jsx"],"sourcesContent":["import { useDispatch, useSelector } from 'react-redux';\nimport { useCallback, useEffect, useState } from 'react';\nimport {\n  getCarsEverything,\n  getCarsRental,\n  getDetailsCar,\n} from '../../redux/cars/operation';\nimport { CatalogList } from '../../components/CatalogList/CatalogList';\nimport { Button, CarNotFound } from './Catalog.styled';\nimport { ModalComponent } from '../../components/Modal/Modal';\nimport { DetailsCar } from '../../components/DetailsCar/DetailsCar';\nimport { allCars, everythingCar, filterCar } from '../../redux/selector';\nimport { Filter } from '../../components/Filter/Filter';\nimport { useFilterCar } from '../../helpers/hooks/useFilterCar';\nimport { useModal } from '../../helpers/hooks/useModal';\n\nconst Catalog = () => {\n  const dispatch = useDispatch();\n  const cars = useSelector(allCars);\n  const number = useSelector(everythingCar);\n  const carFilter = useSelector(filterCar);\n  const [page, setPage] = useState(1);\n  const isLoading = useSelector(state => state.cars.isLoading);\n  const filter = useFilterCar(allCars);\n  const { modalOpen, openModal, closeModal } = useModal();\n\n  useEffect(() => {\n    if (cars.length === 0) {\n      dispatch(getCarsRental(page));\n      dispatch(getCarsEverything());\n    }\n  }, [cars, dispatch, page]);\n\n  const handelClick = () => {\n    setPage(prevPage => {\n      const newPage = prevPage + 1;\n      return newPage;\n    });\n  };\n\n  useEffect(() => {\n    if (page >= 2) {\n      dispatch(getCarsRental(page));\n    }\n  }, [page, dispatch]);\n\n  const onClickModal = useCallback(\n    id => {\n      openModal();\n      dispatch(getDetailsCar(id));\n    },\n    [dispatch, openModal]\n  );\n\n  return (\n    <>\n      <Filter />\n      {filter.length === 0 && !isLoading && (\n        <CarNotFound>Oops car not found ðŸ«¥</CarNotFound>\n      )}\n      {filter.length !== 0 && (\n        <>\n          <CatalogList openModal={onClickModal} cars={filter} />\n          {cars.length !== 0 &&\n            number !== cars.length &&\n            carFilter.length === 0 && (\n              <Button type=\"button\" onClick={() => handelClick()}>\n                Load More\n              </Button>\n            )}\n          {modalOpen && (\n            <ModalComponent onClose={closeModal}>\n              <DetailsCar />\n            </ModalComponent>\n          )}\n        </>\n      )}\n    </>\n  );\n};\n\nexport default Catalog;\n"],"names":["Catalog","dispatch","useDispatch","cars","useSelector","allCars","number","everythingCar","carFilter","filterCar","page","setPage","useState","isLoading","state","filter","useFilterCar","modalOpen","openModal","closeModal","useModal","useEffect","length","getCarsRental","getCarsEverything","onClickModal","useCallback","id","getDetailsCar","_jsxs","_Fragment","children","_jsx","Filter","CarNotFound","CatalogList","Button","type","onClick","prevPage","ModalComponent","onClose","DetailsCar"],"sourceRoot":""}