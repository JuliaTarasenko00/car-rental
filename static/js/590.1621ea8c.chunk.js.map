{"version":3,"file":"static/js/590.1621ea8c.chunk.js","mappings":"4LAEO,MAAMA,E,QAASC,GAAOC,OAAMC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,qU,wECmBnC,MA8DA,EA9DgBC,KACd,MAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAOC,EAAAA,EAAAA,IAAYC,EAAAA,IACnBC,GAASF,EAAAA,EAAAA,IAAYG,EAAAA,IACrBC,GAAYJ,EAAAA,EAAAA,IAAYK,EAAAA,KACvBC,EAAMC,IAAWC,EAAAA,EAAAA,UAAS,IAC3B,UAAEC,EAAS,UAAEC,EAAS,WAAEC,IAAeC,EAAAA,EAAAA,KAEvCC,GAASC,EAAAA,EAAAA,GAAaC,EAAAA,IAEtBC,GAASC,EAAAA,EAAAA,UACb,IAAOb,EAAYS,EAASd,GAC5B,CAACK,EAAWS,EAAQd,KAGtBmB,EAAAA,EAAAA,YAAU,KACY,IAAhBnB,EAAKoB,SACPtB,GAASuB,EAAAA,EAAAA,IAAcd,IACvBT,GAASwB,EAAAA,EAAAA,OACX,GACC,CAACtB,EAAMF,EAAUS,KAMpBY,EAAAA,EAAAA,YAAU,KACJZ,GAAQ,GACVT,GAASuB,EAAAA,EAAAA,IAAcd,GACzB,GACC,CAACA,EAAMT,IAEV,MAAMyB,GAAeC,EAAAA,EAAAA,cACnBC,IACEd,IACAb,GAAS4B,EAAAA,EAAAA,IAAcD,GAAI,GAE7B,CAAC3B,EAAUa,IAGb,OACEgB,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACC,EAAAA,EAAM,CAACjB,OAAQA,IACC,IAAhBd,EAAKoB,SACJO,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACE,EAAAA,EAAW,CAACrB,UAAWY,EAAcvB,KAAMiB,IAC3B,IAAhBjB,EAAKoB,QAAgBjB,IAAWH,EAAKoB,SAAWf,IAC/CyB,EAAAA,EAAAA,KAACtC,EAAM,CAACyC,KAAK,SAASC,QAASA,KAxBvC1B,EAAQD,EAAO,EAwB4C,EAAAsB,SAAC,cAIrDnB,IACCoB,EAAAA,EAAAA,KAACK,EAAAA,EAAc,CAACC,QAASxB,EAAWiB,UAClCC,EAAAA,EAAAA,KAACO,EAAAA,EAAU,WAKlB,C","sources":["page/Catalog/Catalog.styled.js","page/Catalog/Catalog.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Button = styled.button`\n  display: block;\n  cursor: pointer;\n  background-color: transparent;\n  border: transparent;\n  text-decoration-line: underline;\n  text-align: center;\n\n  color: #3470ff;\n  font-size: 16px;\n  line-height: 1.5;\n  padding-bottom: 150px;\n  margin: 0 auto;\n\n  &:hover,\n  :focus {\n    color: #0b44cd;\n  }\n`;\n","import { useDispatch, useSelector } from 'react-redux';\nimport { useCallback, useEffect, useMemo, useState } from 'react';\nimport {\n  getCarsEverything,\n  getCarsRental,\n  getDetailsCar,\n} from '../../redux/cars/operation';\nimport { CatalogList } from '../../components/CatalogList/CatalogList';\nimport { Button } from './Catalog.styled';\nimport { ModalComponent } from '../../components/Modal/Modal';\nimport { DetailsCar } from '../../components/DetailsCar/DetailsCar';\nimport {\n  allCars,\n  detailsCars,\n  everythingCar,\n  filterCar,\n} from '../../redux/selector';\nimport { Filter } from '../../components/Filter/Filter';\nimport { useFilterCar } from '../../helpers/hooks/useFilterCar';\nimport { useModal } from '../../helpers/hooks/useModal';\n\nconst Catalog = () => {\n  const dispatch = useDispatch();\n  const cars = useSelector(allCars);\n  const number = useSelector(everythingCar);\n  const carFilter = useSelector(filterCar);\n  const [page, setPage] = useState(1);\n  const { modalOpen, openModal, closeModal } = useModal();\n\n  const filter = useFilterCar(detailsCars);\n\n  const render = useMemo(\n    () => (carFilter ? filter : cars),\n    [carFilter, filter, cars]\n  );\n\n  useEffect(() => {\n    if (cars.length === 0) {\n      dispatch(getCarsRental(page));\n      dispatch(getCarsEverything());\n    }\n  }, [cars, dispatch, page]);\n\n  const handelClick = () => {\n    setPage(page + 1);\n  };\n\n  useEffect(() => {\n    if (page >= 2) {\n      dispatch(getCarsRental(page));\n    }\n  }, [page, dispatch]);\n\n  const onClickModal = useCallback(\n    id => {\n      openModal();\n      dispatch(getDetailsCar(id));\n    },\n    [dispatch, openModal]\n  );\n\n  return (\n    <>\n      <Filter filter={filter} />\n      {cars.length !== 0 && (\n        <>\n          <CatalogList openModal={onClickModal} cars={render} />\n          {cars.length !== 0 && number !== cars.length && !carFilter && (\n            <Button type=\"button\" onClick={() => handelClick()}>\n              Load More\n            </Button>\n          )}\n          {modalOpen && (\n            <ModalComponent onClose={closeModal}>\n              <DetailsCar />\n            </ModalComponent>\n          )}\n        </>\n      )}\n    </>\n  );\n};\n\nexport default Catalog;\n"],"names":["Button","styled","button","_templateObject","_taggedTemplateLiteral","Catalog","dispatch","useDispatch","cars","useSelector","allCars","number","everythingCar","carFilter","filterCar","page","setPage","useState","modalOpen","openModal","closeModal","useModal","filter","useFilterCar","detailsCars","render","useMemo","useEffect","length","getCarsRental","getCarsEverything","onClickModal","useCallback","id","getDetailsCar","_jsxs","_Fragment","children","_jsx","Filter","CatalogList","type","onClick","ModalComponent","onClose","DetailsCar"],"sourceRoot":""}