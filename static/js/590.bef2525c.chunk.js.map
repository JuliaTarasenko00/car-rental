{"version":3,"file":"static/js/590.bef2525c.chunk.js","mappings":"4LAEO,MAAMA,E,QAASC,GAAOC,OAAMC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,qU,wECmBnC,MAgEA,EAhEgBC,KACd,MAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAOC,EAAAA,EAAAA,IAAYC,EAAAA,IACnBC,GAASF,EAAAA,EAAAA,IAAYG,EAAAA,IACrBC,GAAYJ,EAAAA,EAAAA,IAAYK,EAAAA,KACvBC,EAAMC,IAAWC,EAAAA,EAAAA,UAAS,IAC3B,UAAEC,EAAS,UAAEC,EAAS,WAAEC,IAAeC,EAAAA,EAAAA,KAEvCC,GAASC,EAAAA,EAAAA,GAAaC,EAAAA,IAEtBC,GAASC,EAAAA,EAAAA,UACb,IAA4B,IAArBb,EAAUc,OAAeL,EAASd,GACzC,CAACK,EAAWS,EAAQd,KAGtBoB,EAAAA,EAAAA,YAAU,KACY,IAAhBpB,EAAKmB,QACPrB,GAASuB,EAAAA,EAAAA,IAAcd,GACzB,GACC,CAACP,EAAMF,EAAUS,KAOpBa,EAAAA,EAAAA,YAAU,KACJb,GAAQ,GACVT,GAASuB,EAAAA,EAAAA,IAAcd,GACzB,GACC,CAACA,EAAMT,IAEV,MAAMwB,GAAeC,EAAAA,EAAAA,cACnBC,IACEb,IACAb,GAAS2B,EAAAA,EAAAA,IAAcD,GAAI,GAE7B,CAAC1B,EAAUa,IAGb,OACEe,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACC,EAAAA,EAAM,CAAChB,OAAQA,IACC,IAAhBd,EAAKmB,SACJO,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACE,EAAAA,EAAW,CAACpB,UAAWW,EAActB,KAAMiB,IAC3B,IAAhBjB,EAAKmB,QACJhB,IAAWH,EAAKmB,QACK,IAArBd,EAAUc,SACRU,EAAAA,EAAAA,KAACrC,EAAM,CAACwC,KAAK,SAASC,QAASA,KA3BzCzB,EAAQD,EAAO,QACfT,GAASoC,EAAAA,EAAAA,QA0BoDN,SAAC,cAIvDlB,IACCmB,EAAAA,EAAAA,KAACM,EAAAA,EAAc,CAACC,QAASxB,EAAWgB,UAClCC,EAAAA,EAAAA,KAACQ,EAAAA,EAAU,WAKlB,C","sources":["page/Catalog/Catalog.styled.js","page/Catalog/Catalog.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Button = styled.button`\n  display: block;\n  cursor: pointer;\n  background-color: transparent;\n  border: transparent;\n  text-decoration-line: underline;\n  text-align: center;\n\n  color: #3470ff;\n  font-size: 16px;\n  line-height: 1.5;\n  padding-bottom: 150px;\n  margin: 0 auto;\n\n  &:hover,\n  :focus {\n    color: #0b44cd;\n  }\n`;\n","import { useDispatch, useSelector } from 'react-redux';\nimport { useCallback, useEffect, useMemo, useState } from 'react';\nimport {\n  getCarsEverything,\n  getCarsRental,\n  getDetailsCar,\n} from '../../redux/cars/operation';\nimport { CatalogList } from '../../components/CatalogList/CatalogList';\nimport { Button } from './Catalog.styled';\nimport { ModalComponent } from '../../components/Modal/Modal';\nimport { DetailsCar } from '../../components/DetailsCar/DetailsCar';\nimport {\n  allCars,\n  detailsCars,\n  everythingCar,\n  filterCar,\n} from '../../redux/selector';\nimport { Filter } from '../../components/Filter/Filter';\nimport { useFilterCar } from '../../helpers/hooks/useFilterCar';\nimport { useModal } from '../../helpers/hooks/useModal';\n\nconst Catalog = () => {\n  const dispatch = useDispatch();\n  const cars = useSelector(allCars);\n  const number = useSelector(everythingCar);\n  const carFilter = useSelector(filterCar);\n  const [page, setPage] = useState(1);\n  const { modalOpen, openModal, closeModal } = useModal();\n\n  const filter = useFilterCar(detailsCars);\n\n  const render = useMemo(\n    () => (carFilter.length !== 0 ? filter : cars),\n    [carFilter, filter, cars]\n  );\n\n  useEffect(() => {\n    if (cars.length === 0) {\n      dispatch(getCarsRental(page));\n    }\n  }, [cars, dispatch, page]);\n\n  const handelClick = () => {\n    setPage(page + 1);\n    dispatch(getCarsEverything());\n  };\n\n  useEffect(() => {\n    if (page >= 2) {\n      dispatch(getCarsRental(page));\n    }\n  }, [page, dispatch]);\n\n  const onClickModal = useCallback(\n    id => {\n      openModal();\n      dispatch(getDetailsCar(id));\n    },\n    [dispatch, openModal]\n  );\n\n  return (\n    <>\n      <Filter filter={filter} />\n      {cars.length !== 0 && (\n        <>\n          <CatalogList openModal={onClickModal} cars={render} />\n          {cars.length !== 0 &&\n            number !== cars.length &&\n            carFilter.length === 0 && (\n              <Button type=\"button\" onClick={() => handelClick()}>\n                Load More\n              </Button>\n            )}\n          {modalOpen && (\n            <ModalComponent onClose={closeModal}>\n              <DetailsCar />\n            </ModalComponent>\n          )}\n        </>\n      )}\n    </>\n  );\n};\n\nexport default Catalog;\n"],"names":["Button","styled","button","_templateObject","_taggedTemplateLiteral","Catalog","dispatch","useDispatch","cars","useSelector","allCars","number","everythingCar","carFilter","filterCar","page","setPage","useState","modalOpen","openModal","closeModal","useModal","filter","useFilterCar","detailsCars","render","useMemo","length","useEffect","getCarsRental","onClickModal","useCallback","id","getDetailsCar","_jsxs","_Fragment","children","_jsx","Filter","CatalogList","type","onClick","getCarsEverything","ModalComponent","onClose","DetailsCar"],"sourceRoot":""}